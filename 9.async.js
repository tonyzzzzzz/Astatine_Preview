(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"8IXG":function(e,a,t){e.exports={container:"container___Ueam6",editor:"editor___3qRFm"}},JIdf:function(e,a,t){e.exports={card:"card___5hINn",span:"span___1ysp2",p:"p___YumTH"}},fjVY:function(e,a,t){"use strict";t.r(a);t("14J3");var r=t("BMrR"),n=(t("+L6B"),t("2/Rp")),l=(t("/zsF"),t("PArb")),s=t("jehZ"),c=t.n(s),i=(t("OaEy"),t("2fM7")),p=(t("y8nQ"),t("Vl3Y")),o=(t("5NDa"),t("5rEg")),m=(t("jCWc"),t("kPKH")),u=(t("IzEo"),t("bx4M")),E=(t("Awhp"),t("KrTs")),d=(t("Mwp2"),t("VXEj")),g=(t("Pwec"),t("CtXQ")),h=(t("tU7J"),t("wFql")),y=t("q1tI"),f=t.n(y),x=(t("Lzxq"),t("3a4m")),v=t.n(x),b=t("yEr3"),k=t.n(b),w=t("8IXG"),_=t.n(w),I=(t("cWXX"),t("/ezw")),N=t("JIdf"),q=t.n(N);class C extends f.a.Component{render(){return f.a.createElement(r["a"],{gutter:24},f.a.createElement(m["a"],{lg:8},f.a.createElement(u["a"],{className:q.a.card},f.a.createElement(I["a"],{active:!0,loading:this.props.loading,title:!1,avatar:!1,paragraph:{rows:2}},f.a.createElement("span",{className:q.a.span},f.a.createElement(g["a"],{type:"check"})," \u53ef\u7528\u914d\u989d"),f.a.createElement("p",{className:q.a.p},this.props.quota)))),f.a.createElement(m["a"],{lg:8},f.a.createElement(u["a"],{className:q.a.card},f.a.createElement(I["a"],{active:!0,loading:this.props.loading,title:!1,avatar:!1,paragraph:{rows:2}},f.a.createElement("span",{className:q.a.span},f.a.createElement(g["a"],{type:"clock-circle"})," \u56de\u590d\u65f6\u95f4"),f.a.createElement("p",{className:q.a.p}," ",this.props.response," min ")))),f.a.createElement(m["a"],{lg:8},f.a.createElement(u["a"],{className:q.a.card},f.a.createElement(I["a"],{active:!0,loading:this.props.loading,title:!1,avatar:!1,paragraph:{rows:2}},f.a.createElement("span",{className:q.a.span},f.a.createElement(g["a"],{type:"copy"})," \u5df2\u53d1\u5de5\u5355"),f.a.createElement("p",{className:q.a.p},this.props.count," \u6761")))))}}var T=t("0Xwh"),M=t("MuoO"),O=h["a"].Text,X=["bold","italic","underline","text-color","media"],z="ticket",J=e=>{var a=e[z];return{ticket:a}},j=e=>{return{fetch:()=>{e({type:"".concat(z,"/query")})},submit:a=>{e({type:"".concat(z,"/submit"),payload:a})}}},F={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};class Y extends f.a.Component{componentDidMount(){this.props.fetch()}previewTextGenerator(e){var a=/<[^>]+>/g;if(-1!==e.indexOf("<br>")){if(e=e.split("<br>"),e=e[0].replace(a,""),!(e.length>24))return e;e=e.substr(0,24)}if(-1!==e.indexOf("<p>")){if(e=e.split("</p>"),e=e[0].replace(a,""),!(e.length>24))return e;e=e.substr(0,24)}else e=e.replace(a,""),e=e.substr(0,24);return e+"..."}submit(){this.props.form.validateFields((e,a)=>{if(!e){var t={title:a.title,urgency:a.urgency,content:a.content.toHTML()};this.props.submit(t)}})}render(){console.log(this.props);var e=this.props.form.getFieldDecorator;return f.a.createElement("div",{className:_.a.container},f.a.createElement(T["a"],{delay:500,animConfig:[{opacity:[1,0],translateY:[0,50]},{opacity:[1,0],translateY:[0,-50]}]},f.a.createElement(C,{key:0,quota:"\u65e0\u9650",response:"14",count:this.props.ticket.tickets.length}),f.a.createElement(r["a"],{key:1,gutter:24},f.a.createElement(m["a"],{key:1,lg:8},f.a.createElement(u["a"],{style:{marginBottom:"20px"}},f.a.createElement(O,{style:{fontSize:"16px"}},f.a.createElement(g["a"],{type:"unordered-list"})," \u5de5\u5355\u5217\u8868"),f.a.createElement(d["a"],{dataSource:this.props.ticket.tickets.filter(e=>{return 0===e.rootid}),renderItem:e=>f.a.createElement(d["a"].Item,null,f.a.createElement(d["a"].Item.Meta,{title:f.a.createElement("a",{onClick:()=>{v.a.push("ticket/"+e.id)}},e.title),description:this.previewTextGenerator(e.content)}),f.a.createElement("div",null,f.a.createElement("div",{style:{float:"right"}},1===e.status?f.a.createElement("span",null,f.a.createElement(E["a"],{status:"warning"}),"\u5df2\u56de\u590d"):-1===e.status?f.a.createElement("span",null,f.a.createElement(E["a"],{status:"processing"}),"\u7b49\u5f85\u4e2d"):f.a.createElement("span",null,f.a.createElement(E["a"],{status:"success"}),"\u5df2\u7ed3\u6848")))),style:{marginTop:"12px"},loading:this.props.ticket.loading}))),f.a.createElement(m["a"],{key:2,lg:16},f.a.createElement(u["a"],null,f.a.createElement(O,{style:{fontSize:"16px"}},f.a.createElement(g["a"],{type:"form"})," \u5f00\u542f\u5de5\u5355"),f.a.createElement(p["a"],c()({},F,{style:{marginTop:"20px",marginLeft:"auto",marginRight:"auto",maxWidth:"628px"}}),f.a.createElement(p["a"].Item,{label:"\u6807\u9898"},e("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u5355\u6807\u9898"}]})(f.a.createElement(o["a"],{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}))),f.a.createElement(p["a"].Item,{label:"\u4e25\u91cd\u6027"},e("urgency",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(f.a.createElement(i["a"],{defaultValue:"low"},f.a.createElement(i["a"].Option,{value:0},"\u4f4e"),f.a.createElement(i["a"].Option,{value:1},"\u4e2d"),f.a.createElement(i["a"].Option,{value:2},"\u9ad8")))),f.a.createElement(p["a"].Item,{label:"\u5185\u5bb9"},e("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u5355\u6b63\u6587"}]})(f.a.createElement(k.a,{className:_.a.editor,controls:X,placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9",contentStyle:{maxHeight:"212px"}})))),f.a.createElement(l["a"],{style:{marginTop:"0px",marginBottom:"12px"},dashed:!0}),f.a.createElement(n["a"],{type:"primary",style:{float:"right"},onClick:()=>{this.submit()},loading:this.props.ticket.loading}," \u63d0\u4ea4\u5de5\u5355 "))))))}}a["default"]=Object(M["connect"])(J,j)(p["a"].create()(Y))}}]);